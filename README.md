# cookiecutter-e2e

A `cookiecutter` template for generating standalone E2E testing repositories powered by Playwright and Checkly.

This template is designed for internal use at Invisible, enabling teams to quickly scaffold test suites for frontend or backend applications without mixing concerns with the core application codebase. All checks are managed and deployed independently via Checkly.

---

## Purpose

* Keep E2E checks isolated from production code
* Provide consistent structure across E2E test repositories
* Automate monitoring and deployments using Checkly
* Encourage scalable, repeatable test development practices

---

## Requirements

### Tooling

* [Python 3.7+](https://www.python.org/)
* [cookiecutter](https://cookiecutter.readthedocs.io/en/latest/)
* [Bun](https://bun.sh/)
* GitHub repo with Checkly secrets:

  * `CHECKLY_API_KEY`
  * `CHECKLY_ACCOUNT_ID`

---

## How to Use

### 1. Install `cookiecutter` (if not already)

```bash
pip install cookiecutter
```

### 2. Generate a new E2E project

```bash
cookiecutter gh:invisible-tech/cookiecutter-e2e
```

You will be prompted to fill out:

* `project_name`: Name of the repository (e.g. `om-portal-e2e`)
* `target_project`: The system or app under test (e.g. `om-portal`)

The slug will be automatically formatted as `{{ target_project }}-e2e`.

---

## Output Example

A typical structure generated by this template:

```
om-portal-e2e/
├── src/checks/                  # Checkly browser/API tests
├── __checks__/                  # Playwright test specs
├── .github/workflows/checkly.yml
├── checkly.config.ts
├── .env.example
├── package.json
├── tsconfig.json
├── bun.lockb
└── README.md                    # Project-specific instructions
```

---

## Included Features

* Preconfigured **Playwright** for local test runs
* Preconfigured **Checkly CLI** for deployments
* GitHub Actions workflow to deploy checks on push
* Auto-generated `.env.example` file
* TypeScript + Bun stack

---

## Best Practices

* Keep test logic readable and isolated by component or route
* Use `ENVIRONMENT_URL` from `.env` for environment switching
* Use `Frequency` settings in `checkly.config.ts` to avoid excessive pinging
* Use tags and logical IDs in Checkly to organize across teams

---

## Updating the Template

If you need to add functionality or fix a bug in this template:

1. Clone the `cookiecutter-e2e` repo.
2. Make changes to the template files (not the output).
3. Commit and push changes.
4. Optionally test the changes by re-running `cookiecutter` locally.

---

## Support

For internal support, reach out to `@qa-engineering`  or in the `#egt-sre` Slack channel.

